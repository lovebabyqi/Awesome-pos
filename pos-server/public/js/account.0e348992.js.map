{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./src/views/acount/Account.vue?218d","webpack:///src/views/acount/Account.vue","webpack:///./src/views/acount/Account.vue?ab96","webpack:///./src/views/acount/Account.vue","webpack:///./src/views/acount/Account.vue?79d7","webpack:///./node_modules/core-js/internals/array-reduce.js"],"names":["$","$reduce","left","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","1","target","proto","forced","reduce","callbackfn","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","attrs","directives","name","rawName","value","expression","_v","isToday","staticClass","_s","sumTotal","todayTotal","on","handleRefresh","toggleAll","toggleToday","staticStyle","tableData","prop","order","sumIndex","formatter","formatterTime","totalLength","currentPage","staticRenderFns","status","component","aFunction","toObject","IndexedObject","toLength","createMethod","IS_RIGHT","that","argumentsLength","memo","O","self","index","i","TypeError","module","exports","right"],"mappings":"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","file":"js/account.0e348992.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"accounts\"}},[_c('h2',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isToday),expression:\"isToday\"}]},[_vm._v(\"今日账目记录\")]),_c('h2',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isToday),expression:\"!isToday\"}]},[_vm._v(\"所有账目记录\")]),_c('div',{staticClass:\"accounts-title\"},[_c('span',[_vm._v(\"本月总成交金额:\"+_vm._s(_vm.sumTotal))]),_c('span',[_vm._v(\"今日成交金额:\"+_vm._s(_vm.todayTotal))]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh-left\",\"circle\":\"\"},on:{\"click\":_vm.handleRefresh}}),_c('el-button',{on:{\"click\":_vm.toggleAll}},[_vm._v(\"查看所有账单\")]),_c('el-button',{on:{\"click\":_vm.toggleToday}},[_vm._v(\"查看今日账单\")])],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"stripe\":true,\"default-sort\":{prop: 'date', order: 'descending'}}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50\",\"index\":_vm.sumIndex}}),_c('el-table-column',{attrs:{\"prop\":\"timeDate\",\"label\":\"日期\",\"sortable\":\"\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"orderList\",\"label\":\"商品\",\"width\":\"550\",\"formatter\":_vm.formatter}}),_c('el-table-column',{attrs:{\"prop\":\"time\",\"label\":\"结算时间\",\"width\":\"100\",\"formatter\":_vm.formatterTime}}),_c('el-table-column',{attrs:{\"prop\":\"priceTotal\",\"label\":\"金额\"}})],1),_c('el-pagination',{attrs:{\"layout\":\"prev, pager, next\",\"background\":\"\",\"total\":_vm.totalLength,\"page-size\":9},on:{\"current-change\":_vm.currentPage}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div id=\"accounts\">\r\n        <h2 v-show=\"isToday\">今日账目记录</h2>\r\n        <h2 v-show=\"!isToday\">所有账目记录</h2>\r\n        <div class=\"accounts-title\"><span>本月总成交金额:{{sumTotal}}</span><span>今日成交金额:{{todayTotal}}</span>\r\n            <el-button type=\"primary\" icon=\"el-icon-refresh-left\" circle @click=\"handleRefresh\"></el-button>\r\n            <el-button @click=\"toggleAll\">查看所有账单</el-button>\r\n            <el-button @click=\"toggleToday\">查看今日账单</el-button>\r\n        </div>\r\n            <el-table\r\n                    :data=\"tableData\"\r\n                    style=\"width: 100%\"\r\n                    :stripe=true\r\n                    :default-sort=\"{prop: 'date', order: 'descending'}\"\r\n            >\r\n                <el-table-column type=\"index\" width=\"50\" :index=\"sumIndex\"></el-table-column>\r\n                <el-table-column prop=\"timeDate\" label=\"日期\" sortable width=\"180\"></el-table-column>\r\n                <el-table-column prop=\"orderList\" label=\"商品\" width=\"550\" :formatter=\"formatter\"></el-table-column>\r\n                <el-table-column prop=\"time\" label=\"结算时间\" width=\"100\" :formatter=\"formatterTime\"></el-table-column>\r\n                <el-table-column prop=\"priceTotal\" label=\"金额\"></el-table-column>\r\n            </el-table>\r\n        <el-pagination\r\n                layout=\"prev, pager, next\"\r\n                background\r\n                :total=\"totalLength\"\r\n                :page-size=\"9\"\r\n                @current-change=\"currentPage\"\r\n        >\r\n        </el-pagination>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {reqGetAllAccount} from '../../api'\r\n    import {Message} from 'element-ui'\r\n\r\n    export default {\r\n        name: \"Account\",\r\n        created() {\r\n            this.getAllAccount()\r\n        },\r\n        data() {\r\n            return {\r\n                allAccount: [],\r\n                tableData:[],\r\n                totalLength:0,//总条目\r\n                sumTotal:0,//本月累计成交\r\n                todayTotal:0,//今日成交\r\n                page:1,\r\n                todayDate:'',//记录今日日期\r\n                isToday:true\r\n            }\r\n        },\r\n        methods: {\r\n            async getAllAccount() {\r\n                const result = await reqGetAllAccount()\r\n                const {status, msg, data} = result\r\n                if (status === 0) {\r\n                    this.allAccount = Object.freeze(data)\r\n                    this.todayDate = (new Date()).toLocaleDateString()\r\n                    this.todayTotal = (data.filter(item=>item.timeDate===this.todayDate)).reduce((pre,next)=>pre + (+next.priceTotal),0)\r\n                    this.sumTotal = this.allAccount.reduce((pre,next)=>pre + (+next.priceTotal),0)  //本月累计成交\r\n                    this.toggleToday()\r\n                    Message({\r\n                        message: msg,\r\n                        type: 'success'\r\n                    })\r\n                } else {\r\n                    Message({\r\n                        message: msg,\r\n                        type: 'error'\r\n                    })\r\n                }\r\n            },\r\n            sumIndex(index){    //格式化index\r\n              return index + 1 + ((this.page-1) * 8)\r\n            },\r\n            formatter(row, column) {    //格式化商品数据\r\n                return row.orderList.reduce((pre, next) => {\r\n                    return pre + next.productName + 'x' + next.productCount + '单价:' + next.productPrice + '元、'\r\n                },'')\r\n            },\r\n            formatterTime(row,column){  //格式化时间\r\n                if(row.time){\r\n                    let _date = new Date(JSON.parse(row.time))\r\n                    return _date.toLocaleString()\r\n                }else{\r\n                    return '未记录时间'\r\n                }\r\n            },\r\n            currentPage(page){  //点击页数\r\n                this.page = page\r\n                let start = (page-1) * 8;\r\n                let end = page * 8;\r\n                this.tableData = this.allAccount.slice(start,end)\r\n            },\r\n            handleRefresh(){\r\n                this.getAllAccount()\r\n            },\r\n            toggleAll(){\r\n                this.isToday = false\r\n                this.totalLength = this.allAccount.length\r\n                this.tableData = this.allAccount.slice(0,8)//初始展示8条\r\n            },\r\n            toggleToday(){\r\n                this.isToday = true\r\n                let TodayAccount = this.allAccount.filter(item=>item.timeDate===this.todayDate)\r\n                this.totalLength = TodayAccount.length\r\n                this.tableData = TodayAccount.slice(0,8)//初始展示8条\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n    #accounts{\r\n        margin-bottom:40px;\r\n        .accounts-title{\r\n            span{\r\n                margin-right:20px;\r\n                font-weight: bold;\r\n            }\r\n        }\r\n        .el-table{\r\n            height:700px;\r\n            overflow: auto;\r\n            /deep/ .el-table__row{\r\n                height:40px;\r\n            }\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Account.vue?vue&type=template&id=f076e924&scoped=true&\"\nimport script from \"./Account.vue?vue&type=script&lang=js&\"\nexport * from \"./Account.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Account.vue?vue&type=style&index=0&id=f076e924&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f076e924\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=style&index=0&id=f076e924&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=style&index=0&id=f076e924&scoped=true&lang=less&\"","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n"],"sourceRoot":""}